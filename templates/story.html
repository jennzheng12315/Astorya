<!DOCTYPE html>
<html lang="en">

<body>

    <section class="story-container">
        <img src="/static/assets/rope-with-clothespin.png" alt="a clothespin on a rope">

        <div class="story-area">
            <div class="column arrow left-arrow">
                {% if page == 'index' %}
                <button onclick="onArrowClickIndex('left')"><i class="fa-solid fa-chevron-left fa-5x"></i></button>
                {% elif page == 'explore' %}
                <button onclick="onArrowClickExplore('left')"><i class="fa-solid fa-chevron-left fa-5x"></i></button>
                {% endif %}
            </div>
            <div class="column story-page">
                {% if page == 'write' %}
                <form>
                    <label>Title: </label>
                    <input type="text" class="title-input">
                    <!-- Quill.js editor -->
                    <div id="editor">
                        <p><br></p>
                    </div>
                    <p>Note: Please do not include any personal information within your submission.</p>
                    <br>
                    <section class="select-tags">
                        <label>Add Tags: </label>
                        <div id="line">
                            <span id="tags"></span>
                            <input id="tag-input" list="existing-tags" onchange="addTag(this, 'story')">
                            <datalist id="existing-tags">
                                {% for tag in tags %}
                                <option value="{{tag}}"">
                                    {% endfor %}
                            </datalist>
                            <button onclick=" addTag(this, 'story' )">Add</button>
                        </div>
                    </section>
                    <br><br>
                    <input type="checkbox" required>
                    <label>I agree to allow Astorya to store, modify, and post my submission for
                        its website.</label>
                    <div class="submit-story-container">
                        <button class="green-button submit-story-button" onclick="getHTML()">Submit Story</button>
                    </div>
                </form>

                {% elif page == 'index' %}
                <section class="random-stories">
                    {% for i in range(stories|length) %}
                    <div id="random-story{{i}}">
                        <h4 class="story-title">{{stories[i].title}}</h4>
                        {{stories[i].content | safe}}
                        <div class="show-tags">
                            {% for tag in stories[i].tags %}
                            <span class="tag">{{tag}}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}
                </section>

                {% else %}
                <section class="all-stories">
                    {% for i in range(stories|length) %}
                    <div id="story{{i}}">
                        <h4 class="story-title">{{stories[i].title}}</h4>
                        {{stories[i].content | safe}}
                        <div class="show-tags">
                            {% for tag in stories[i].tags %}
                            <span class="tag">{{tag}}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}
                </section>

                {% endif %}
            </div>
            <div class="column arrow right-arrow">
                {% if page == 'index' %}
                <button onclick="onArrowClickIndex('right')"><i class="fa-solid fa-chevron-right fa-5x"></i></button>
                {% elif page == 'explore' %}
                <button onclick="onArrowClickExplore('right')"><i class="fa-solid fa-chevron-right fa-5x"></i></button>
                {% endif %}
            </div>
        </div>
    </section>


</body>

</html>